#include<stdio.h>
#include<stdlib.h>

void heapify(int a[], int n)
{
    int i, j, k, item;
    for(k = n/2; k >= 1; k--)
    {
        item = a[k];
        i = k;
        j = 2 * i;

        while(j <= n)
        {
            if(j < n && a[j] < a[j+1])
                j = j + 1;

            if(item >= a[j])
                break;

            a[i] = a[j];
            i = j;
            j = 2 * j;
        }
        a[i] = item;
    }
}

int main()
{
    int n = 0, a[10], i, ch;

    for(;;)
    {
        printf("\n 1. creat heap");
        printf("\n 2. extract max");
        printf("\n 3. exit");
        printf("\n Read choice:");
        scanf("%d",&ch);

        switch(ch)
        {
            case 1:
                printf("\n Read number of element:");
                scanf("%d",&n);

                printf("\n Read element \n");
                for(i = 1; i <= n; i++)
                    scanf("%d",&a[i]);

                heapify(a,n);

                printf("\n Element after constraity heap \n");
                for(i = 1; i <= n; i++)
                    printf("%d\t",a[i]);
                break;

            case 2:
                if(n > 1)
                {
                    printf("\n key deleted is %d", a[1]);
                    a[1] = a[n];
                    n = n - 1;

                    heapify(a,n);

                    printf("\n Heap after deleting \n");
                    for(i = 1; i <= n; i++)
                        printf("%d\t",a[i]);
                }
                else
                {
                    printf("\n number element to delete");
                }
                break;

            default:
                exit(0);
        }
    }

    return 0;
}
